<!DOCTYPE html>
<div class="container-fluid" style="margin-top: 12px;">
  <div class="row justify-content-center">
    <div class="col-md-5">
      <mat-card>
        <mat-card-header>
          <img mat-card-avatar style="width: 48px; height: 48px;" [src]="user.avatar.url">
          <mat-card-title style="white-space: nowrap;">{{user.firstName}} {{user.lastName}}</mat-card-title>
          <mat-card-subtitle>

          </mat-card-subtitle>
          <div style="width: 100%"></div>
          <mat-menu #appMenu="matMenu">
            <button mat-menu-item (click)="category = 'text'"> Text </button>
            <button mat-menu-item (click)="category = 'image'"> Image </button>
            <button mat-menu-item (click)="category = 'youtube'"> YouTube </button>
          </mat-menu>

          <button *ngIf="! form?.post.id" mat-icon-button [matMenuTriggerFor]="appMenu">
            <mat-icon>more_vert</mat-icon>
          </button>
        </mat-card-header>

        <mat-card-content [ngSwitch]="category">
          <app-meld-image-form #form *ngSwitchCase="'image'"></app-meld-image-form>
          <app-meld-text-form #form *ngSwitchCase="'text'"></app-meld-text-form>
          <app-meld-youtube-form #form *ngSwitchCase="'youtube'"></app-meld-youtube-form>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button (click)="onCancel()">Cancel</button>
          <button mat-button *ngIf="! form?.post.id" (click)="onSave()">Post</button>
          <button mat-button *ngIf="form?.post.id" (click)="onUpdate()">Update</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
