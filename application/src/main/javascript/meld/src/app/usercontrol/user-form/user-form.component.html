<div style="padding: 10px;">
  <mat-card style="width: 100%;">
    <mat-card-content>
      <form>
        <mat-tab-group>
          <mat-tab label="Profile">
            <div class="container-fluid" style="margin-top: 12px;">
              <div class="row">
                <div class="col-md-4">
                  <fieldset>
                    <legend>User</legend>
                    <mat-form-field style="width: 100%;">
                      <input placeholder="Name" [(ngModel)]="user.email" name="email"
                             matInput minlength="3" maxlength="100"
                             required #email="ngModel">
                    </mat-form-field>
                    <mat-form-field style="width: 100%;">
                      <input placeholder="First Name" [(ngModel)]="user.firstName"
                             matInput name="firstName" minlength="3" maxlength="100" required>
                    </mat-form-field>
                    <mat-form-field style="width: 100%;">
                      <input placeholder="Last Name" [(ngModel)]="user.lastName"
                             matInput name="lastName" minlength="3" maxlength="100" required>
                    </mat-form-field>

                    <mat-form-field style="width: 100%">
                      <meld-date  #datePicker placeholder="Birthday" [(ngModel)]="user.birthday" name="birthday"></meld-date>
                      <button matSuffix mat-icon-button (click)="datePicker.clear()"><mat-icon>delete</mat-icon></button>
                      <button matSuffix mat-icon-button (click)="datePicker.open()"><mat-icon >today</mat-icon></button>
                    </mat-form-field>


                  </fieldset>
                </div>
                <div class="col-md-4">
                  <fieldset>
                    <legend>Roles</legend>
                    <app-role-multiselect [name]="'roles'" [(ngModel)]="user.roles" placeholder="Roles"
                                          style="max-height: 400px;"></app-role-multiselect>
                  </fieldset>
                </div>
                <div class="col-md-4">
                  <fieldset>
                    <legend>Groups</legend>
                    <app-group-multiselect [name]="'groups'" [(ngModel)]="user.groups" placeholder="Groups"
                                           style="max-height: 400px;"></app-group-multiselect>
                  </fieldset>

                </div>
              </div>
            </div>

          </mat-tab>
          <mat-tab label="Image">
            <div style="align-items: center; display: flex; justify-content: center; height: 100%;">

              <img  src="{{user.image | meldBinaryImage}}" style="width: 300px;">

              <meld-file-container>
                <input type="file" name="image" [(ngModel)]="user.image">
              </meld-file-container>
            </div>
          </mat-tab>
        </mat-tab-group>

      </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="onSave()" *ngIf="! user.id">Save</button>
      <button mat-button (click)="onUpdate()" *ngIf="user.id">Update</button>
      <button mat-button (click)="onCancel()">Cancel</button>
    </mat-card-actions>
  </mat-card>
</div>


